{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","services/picturesApi.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","query","handlePictureChange","evt","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","info","props","onSubmit","className","this","type","onChange","name","autoComplete","autoFocus","placeholder","Component","defaultProps","ImageGalleryItem","pictures","onClick","map","picture","src","webformatURL","alt","tags","id","Loader","color","height","width","timeout","Button","ImageGallery","error","page","status","handleLoadMore","prevState","prevProps","loading","fetch","then","response","ok","json","Promise","reject","Error","picturesArray","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","message","length","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","target","addEventListener","removeEventListener","modalPicture","largeImageURL","App","pictureQuery","showModal","handleFormSubmit","openModal","closeModal","position","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cb6937da.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Searchbar.css';\n\nclass Searchbar extends Component {\n  static defaultProps = {};\n\n  static propTypes = {\n      onSubmit: PropTypes.func,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handlePictureChange = (evt) => {\n    this.setState({query: evt.currentTarget.value.toLowerCase()});\n  };\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if(this.state.query.trim() === '') {\n        return toast.info('Write down something to find a picture');\n    };\n\n    this.props.onSubmit(this.state.query);\n    this.setState({query: ''});\n  };\n\n  render() {\n    return (\n        <header className=\"Searchbar\">\n            <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n                <button type=\"submit\" className=\"SearchForm-button\">\n                    <span className=\"SearchForm-button-label\">Search</span>\n                </button>\n                \n                <input\n                    className=\"SearchForm-input\"\n                    onChange={this.handlePictureChange}\n                    type=\"text\"\n                    name=\"query\"\n                    value={this.state.query}\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                />\n            </form>\n        </header>\n    );\n  }\n}\n\nexport default Searchbar;","import PropTypes from 'prop-types';\nimport './ImageGalleryItem.css'\n\nfunction ImageGalleryItem ({pictures, onClick}) {\n    return (\n        pictures.map(picture => (\n            <li key={picture.id} className=\"ImageGalleryItem\">\n                <img onClick={() => onClick(picture)} src={picture.webformatURL} alt={picture.tags} className=\"ImageGalleryItem-image\" />\n            </li>\n        )) \n    )\n};\n\nImageGalleryItem.propTypes = {\n    picture: PropTypes.arrayOf(PropTypes.object),\n    onClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport LoaderSpinner from \"react-loader-spinner\";\nimport './Loader.css';\n\nexport default function Loader () {\n    return (\n        <div className=\"Loader\">\n            <LoaderSpinner\n                type=\"Circles\"\n                color=\"#3f51b5\"\n                height={100}\n                width={100}\n                timeout={5000}\n                margin-left={300} \n            />\n        </div>\n        \n    );\n} \n\n","import PropTypes from 'prop-types';\nimport './Button.css';\n\nfunction Button ({onClick}) {\n    return (\n        <button \n            onClick={onClick}\n            className=\"Button\" \n            type=\"button\">\n                Load more\n        </button> \n    )\n};\n\nButton.propTypes = {\n    onClick: PropTypes.func,\n};\n\nexport default Button;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Loader from '../../components/Loader';\nimport Button from '../Button';\nimport picturesApi from '../../services/picturesApi';\nimport './ImageGallery.css';\n\n\nclass ImageGallery extends Component {\n  static propTypes = {\n    query: PropTypes.string,\n    openModal: PropTypes.func,\n  };\n\n  state = {\n    pictures: [],\n    error: null,\n    page: 1,\n    status: 'idle',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n      if(prevProps.query !== this.props.query || prevState.page !== this.state.page) {\n          if(prevProps.query !== this.props.query) {\n            this.setState({status: 'pending', pictures: [], page: 1});\n          } else if (prevState.page !== this.state.page) {\n            this.setState({loading: true});\n          };\n\n        picturesApi(this.props.query, this.state.page)\n        .then(pictures => {\n            const picturesArray = pictures.hits;\n            this.setState((prevState) => ({pictures: [...prevState.pictures, ...picturesArray], status: 'resolved'}));\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            });\n        })\n        .catch(error => this.setState({error, status: 'rejected'}));\n      };\n  };\n\n\n  handleLoadMore = () => {\n      this.setState((prevState) =>{\n          return {page: prevState.page + 1}\n      })\n  }\n\n  render() {\n      const {status, pictures, error} = this.state;\n\n      if(status === 'idle') {\n          return <div className=\"Warning\">Write down the word to start searching for pictures</div>\n      }\n\n      if(status === 'pending') {\n          return <Loader />\n      }\n\n      if(status === 'rejected') {\n        return toast.error(error.message)\n      }\n\n      if(status === 'resolved') {\n        return (\n            <>\n            <ul className=\"ImageGallery\">\n                <ImageGalleryItem pictures={pictures} onClick={this.props.onClick}/>\n            </ul>\n\n            {pictures.length > 0 \n                ? <Button onClick={this.handleLoadMore} /> \n                : <div className=\"Warning\">You have to write down right word for search</div>}\n            </>\n        )\n      }\n\n  }\n};\n\nexport default ImageGallery;","export default function fetchPicture (query, page) {\n    return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=22334944-1a4c27752b28577a34c92f730&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(response => {\n        if(response.ok) {\n            return response.json()\n        }\n        return Promise.reject(new Error(`There are no pictures with ${query}`));\n    });\n}","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './Modal.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    modalPicture: PropTypes.object,\n    onClose: PropTypes.func,\n  };\n\n  componentDidMount () {\n    window.addEventListener('keydown', this.handleKeyDown)\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keydown', this.handleKeyDown)\n  };\n\n  handleKeyDown = (e) => {\n    if(e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleOverlayClick = (e) => {\n    if(e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const {modalPicture} = this.props;\n    return (\n        <div className=\"Overlay\" onClick={this.handleOverlayClick}>\n            <div className=\"Modal\">\n                <img className=\"Modal__Picture\" src={modalPicture.largeImageURL} alt={modalPicture.tags} />\n            </div>\n        </div>\n    )\n  }\n}\n\nexport default Modal;","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\n\nimport './App.css';\n\nclass App extends Component {\n  static defaultProps = {};\n\n  static propTypes = {};\n\n  state = {\n    pictureQuery: '',\n    showModal: false,\n    modalPicture: '',\n  };\n\n  handleFormSubmit = (pictureQuery) => {\n    this.setState({pictureQuery});\n  };\n\n  openModal = (modalPicture) => {\n    this.setState({\n      showModal: true,\n      modalPicture,\n    })\n  } \n\n  closeModal = () => {\n    this.setState({showModal: false})\n  };\n\n  render() {\n    const { pictureQuery, showModal, modalPicture } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={pictureQuery} onClick={this.openModal}/>\n        {showModal && <Modal modalPicture={modalPicture} onClose={this.closeModal}/>}\n        <ToastContainer position=\"top-center\" autoClose={2000}/>\n      </div>\n    )\n  }\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}