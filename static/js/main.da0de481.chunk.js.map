{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","query","handlePictureChange","evt","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","info","props","onSubmit","className","this","type","onChange","name","autoComplete","autoFocus","placeholder","Component","defaultProps","ImageGalleryItem","pictures","onClick","map","picture","src","webformatURL","alt","tags","id","Loader","color","height","width","timeout","Button","ImageGallery","error","page","status","handleLoadMore","prevState","prevProps","loading","fetch","then","response","ok","json","Promise","reject","Error","picturesArray","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","message","length","Modal","handleKeyDown","e","code","onClose","handleOverlayClick","target","addEventListener","removeEventListener","modalPicture","largeImageURL","App","pictureQuery","showModal","handleFormSubmit","openModal","closeModal","position","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.da0de481.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './Searchbar.css';\r\n\r\nclass Searchbar extends Component {\r\n  static defaultProps = {};\r\n\r\n  static propTypes = {\r\n      onSubmit: PropTypes.func,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handlePictureChange = (evt) => {\r\n    this.setState({query: evt.currentTarget.value.toLowerCase()});\r\n  };\r\n\r\n  handleSubmit = (evt) => {\r\n    evt.preventDefault();\r\n\r\n    if(this.state.query.trim() === '') {\r\n        return toast.info('Write down something to find a picture');\r\n    };\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({query: ''});\r\n  };\r\n\r\n  render() {\r\n    return (\r\n        <header className=\"Searchbar\">\r\n            <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n                <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n                \r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    onChange={this.handlePictureChange}\r\n                    type=\"text\"\r\n                    name=\"query\"\r\n                    value={this.state.query}\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n            </form>\r\n        </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;","import PropTypes from 'prop-types';\r\nimport './ImageGalleryItem.css'\r\n\r\nfunction ImageGalleryItem ({pictures, onClick}) {\r\n    return (\r\n        pictures.map(picture => (\r\n            <li key={picture.id} className=\"ImageGalleryItem\">\r\n                <img onClick={() => onClick(picture)} src={picture.webformatURL} alt={picture.tags} className=\"ImageGalleryItem-image\" />\r\n            </li>\r\n        )) \r\n    )\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n    picture: PropTypes.arrayOf(PropTypes.object),\r\n    onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport LoaderSpinner from \"react-loader-spinner\";\r\nimport './Loader.css';\r\n\r\nexport default function Loader () {\r\n    return (\r\n        <div className=\"Loader\">\r\n            <LoaderSpinner\r\n                type=\"Circles\"\r\n                color=\"#3f51b5\"\r\n                height={100}\r\n                width={100}\r\n                timeout={3000}\r\n                margin-left={300} \r\n            />\r\n        </div>\r\n        \r\n    );\r\n} \r\n\r\n","import PropTypes from 'prop-types';\r\nimport './Button.css';\r\n\r\nfunction Button ({onClick}) {\r\n    return (\r\n        <button \r\n            onClick={onClick}\r\n            className=\"Button\" \r\n            type=\"button\">\r\n                Load more\r\n        </button> \r\n    )\r\n};\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Loader from '../../components/Loader';\r\nimport Button from '../Button';\r\nimport './ImageGallery.css';\r\n\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    query: PropTypes.string,\r\n    openModal: PropTypes.func,\r\n  };\r\n\r\n  state = {\r\n    pictures: [],\r\n    error: null,\r\n    page: 1,\r\n    status: 'idle',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n      if(prevProps.query !== this.props.query || prevState.page !== this.state.page) {\r\n          if(prevProps.query !== this.props.query) {\r\n            this.setState({status: 'pending', pictures: [], page: 1});\r\n          } else if (prevState.page !== this.state.page) {\r\n            this.setState({loading: true});\r\n          };\r\n\r\n        fetch(`https://pixabay.com/api/?q=${this.props.query}&page=${this.state.page}&key=22334944-1a4c27752b28577a34c92f730&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => {\r\n            if(response.ok) {\r\n                return response.json()\r\n            }\r\n            return Promise.reject(new Error(`There are no pictures with ${this.props.query}`));\r\n        })\r\n        .then(pictures => {\r\n            const picturesArray = pictures.hits;\r\n            this.setState((prevState) => ({pictures: [...prevState.pictures, ...picturesArray], status: 'resolved'}));\r\n            window.scrollTo({\r\n                top: document.documentElement.scrollHeight,\r\n                behavior: 'smooth',\r\n            });\r\n        })\r\n        .catch(error => this.setState({error, status: 'rejected'}));\r\n      };\r\n  };\r\n\r\n\r\n  handleLoadMore = () => {\r\n      this.setState((prevState) =>{\r\n          return {page: prevState.page + 1}\r\n      })\r\n  }\r\n\r\n  render() {\r\n      const {status, pictures, error} = this.state;\r\n\r\n      if(status === 'idle') {\r\n          return <div className=\"Warning\">Write down the word to start searching for pictures</div>\r\n      }\r\n\r\n      if(status === 'pending') {\r\n          return <Loader />\r\n      }\r\n\r\n      if(status === 'rejected') {\r\n        return toast.error(error.message)\r\n      }\r\n\r\n      if(status === 'resolved') {\r\n        return (\r\n            <>\r\n            <ul className=\"ImageGallery\">\r\n                <ImageGalleryItem pictures={pictures} onClick={this.props.onClick}/>\r\n            </ul>\r\n\r\n            {pictures.length > 0 \r\n                ? <Button onClick={this.handleLoadMore} /> \r\n                : <div className=\"Warning\">You have to write down right word for search</div>}\r\n            </>\r\n        )\r\n      }\r\n\r\n  }\r\n};\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Modal.css';\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    modalPicture: PropTypes.object,\r\n    onClose: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount () {\r\n    window.addEventListener('keydown', this.handleKeyDown)\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    window.removeEventListener('keydown', this.handleKeyDown)\r\n  };\r\n\r\n  handleKeyDown = (e) => {\r\n    if(e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = (e) => {\r\n    if(e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {modalPicture} = this.props;\r\n    return (\r\n        <div className=\"Overlay\" onClick={this.handleOverlayClick}>\r\n            <div className=\"Modal\">\r\n                <img className=\"Modal__Picture\" src={modalPicture.largeImageURL} alt={modalPicture.tags} />\r\n            </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\n\nimport './App.css';\n\nclass App extends Component {\n  static defaultProps = {};\n\n  static propTypes = {};\n\n  state = {\n    pictureQuery: '',\n    showModal: false,\n    modalPicture: '',\n  };\n\n  handleFormSubmit = (pictureQuery) => {\n    this.setState({pictureQuery});\n  };\n\n  openModal = (modalPicture) => {\n    this.setState({\n      showModal: true,\n      modalPicture,\n    })\n  } \n\n  closeModal = () => {\n    this.setState({showModal: false})\n  };\n\n  render() {\n    const { pictureQuery, showModal, modalPicture } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={pictureQuery} onClick={this.openModal}/>\n        {showModal && <Modal modalPicture={modalPicture} onClose={this.closeModal}/>}\n        <ToastContainer position=\"top-center\" autoClose={2000}/>\n      </div>\n    )\n  }\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}